 Linux professional Institute Systemarchitektur Runlevel
Im allgemeinen sind folgende Runlevel (Startstufen) definiert :




Fedora / Red-Hat                            Debian
0 halt 0 halt
1 Single user mode / Wartungsmodus          1 Single user mode / Wartungsmodus
2 Multiuser ohne Netzwerk                   2 voller Multiuser mode / X11
3 voller multiuser mode                     3 voller Multiuser mode
4 unbenutzt                                 4 voller Multiuser mode
5 X11                                       5 voller Multiuser mode
6 reboot                                    6 reboot


Skripte verwalten unter Fedora / Red-Hat
Zur Verwaltung von Startskripten kennt das System den Befehl chkconfig.
Mit chkconfig lassen sich die Stati der Skripte in den einzelnen Stufen
prüfen und einstellen.
Eine allgemeine Hilfe zur Syntax erhält man mit # chkconfig ­­help

chkconfig Version 1.3.42 ­ Copyright (C) 1997­2008 Red Hat, Inc. 
Kostenlose Weitergabe unter den Bedingungen der GNU Public License erlaubt. 

Verwendung:   chkconfig [­­list] [­­type <type>] [name] 
chkconfig ­­add <Name> 
chkconfig ­­del <Name> 
chkconfig ­­override <Name> 
chkconfig [­­level <levels>] [­­type <type>] <Name> <on|off|reset|resetpriorities>


Die eingentliche Abfrage der Stati geschieht dann mit :
# chkconfig
NetworkManager  0:Aus 1:Aus 2:Ein 3:Ein 4:Ein 5:Ein 6:Aus 
acpid           0:Aus 1:Aus 2:Ein 3:Ein 4:Ein 5:Ein 6:Aus 
atd             0:Aus 1:Aus 2:Aus 3:Ein 4:Ein 5:Ein 6:Aus 
…
wine            0:Aus 1:Aus 2:Ein 3:Ein 4:Ein 5:Ein 6:Aus 
wpa_supplicant  0:Aus 1:Aus 2:Aus 3:Aus 4:Aus 5:Aus 6:Aus 
ypbind          0:Aus 1:Aus 2:Aus 3:Aus 4:Aus 5:Aus 6:Aus 
Damit ist es sinnvoll die Starteinstellungen der Skripte i.d.F. Anzupassen :

# chkconfig ­­level 235 wine off

Eine einzelne Einstellung kann dann kontrolliert werden :

# chkconfig ­­list wine
wine            0:Aus 1:Aus 2:Aus 3:Aus 4:Aus 6:Ein 6:Aus

Der Zugriff auf die Skripte kann nach dem Systemstart dann mit service
geschehen.

# service atd stop
Service atd beenden [  OK  ]

Skripte verwalten unter Debian
Mit update­rc.d lassen sich die Stati der Skripte in den einzelnen Stufen einstellen.
Eine Hilfe zur Syntax bietet hier eine einfache Eingabe des Befehls : # update­rc.d
usage: update­rc.d [­n] [­f] <basename> remove 
        update­rc.d [­n] <basename> defaults [NN | sNN kNN] 
        update­rc.d [­n] <basename> start|stop NN runlvl [runlvl] [...] . 
                ­n: not really 
                ­f: force 
Jetzt kann man mithilfe dessen, Startskripte entfernen

# update­rc.d ­f xinetd remove 

Removing any system startup links for /etc/init.d/xinetd ... 
    /etc/rc0.d/K20xinetd 
    /etc/rc1.d/K20xinetd 
    /etc/rc2.d/S20xinetd 
    /etc/rc3.d/S20xinetd 
    /etc/rc4.d/S20xinetd 
    /etc/rc5.d/S20xinetd 
    /etc/rc6.d/K20xinetd 

oder z.B. per default Hinzufügen

# update­rc.d xinetd defaults 

Adding system startup for /etc/init.d/xinetd ... 
   /etc/rc0.d/K20xinetd ­> ../init.d/xinetd 
    /etc/rc1.d/K20xinetd ­> ../init.d/xinetd 
    /etc/rc6.d/K20xinetd ­> ../init.d/xinetd 
    /etc/rc2.d/S20xinetd ­> ../init.d/xinetd 
    /etc/rc3.d/S20xinetd ­> ../init.d/xinetd 
    /etc/rc4.d/S20xinetd ­> ../init.d/xinetd 
    /etc/rc5.d/S20xinetd ­> ../init.d/xinetd

sowie einzeln

# update­rc.d xinetd start 40 4 . 
Adding system startup for /etc/init.d/xinetd ... 
    /etc/rc4.d/S40xinetd ­> ../init.d/xinetd 

Das auflisten der einzelnen Stati erfolgt dieses Mal über den Befehl sysv-rc-conf.
!! Ein einfacher Aufruf genügt, um die Stati zu prüfen und einzustellen (interaktiv)

Oder man bevorzugt eine einfache Auflistung an der Konsole :
# sysv­rc­conf ­list

oder

# sysv­rc­conf ­list sysklogd 
sysklogd     0:off 1:off 2:on 3:on 4:on 5:on 6:off 

Der Zugriff auf die Dienste erfolgt direkt mit invoke­rc.d
# invoke­rc.d apache2 start
* Starting web server (apache2)... 


Der allgemeine Wechsel eines Runlevels
wird mit dem Programm init bzw. telinit eingeleitet.

Syntax : init <Runlevel>
Beispiele :     init 0 // System herunterfahren auch : halt
                init 3 // Wechsel in Runlevel 3
                init 6 // System neu starten auch mit : reboot

Der zu startende Standardrunlevel wird in der Datei /etc/inittab festgelegt.

            id:2:initdefault:

Im Allgemeinen gilt, dass die Runlevel 0 und 6 niemals als Standardrunlevel definiert
werden sollten.
